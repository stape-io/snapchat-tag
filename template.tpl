___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Snapchat Conversion API",
  "categories": [
    "ADVERTISING",
    "ANALYTICS",
    "CONVERSIONS",
    "MARKETING",
    "REMARKETING"
  ],
  "brand": {
    "id": "brand_dummy",
    "displayName": "Stape",
    "thumbnail": "data:image/png;base64,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\u003d"
  },
  "description": "Tag that send the event data from the Universal Analytics/GA4/Data client to Snapchat Conversion API.",
  "containerContexts": [
    "SERVER"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "RADIO",
    "name": "eventType",
    "displayName": "Event Name Setup Method",
    "radioItems": [
      {
        "value": "standard",
        "displayValue": "Standard",
        "subParams": [
          {
            "type": "SELECT",
            "name": "eventNameStandard",
            "selectItems": [
              {
                "value": "PURCHASE",
                "displayValue": "PURCHASE"
              },
              {
                "value": "PAGE_VIEW",
                "displayValue": "PAGE_VIEW"
              },
              {
                "value": "LIST_VIEW",
                "displayValue": "LIST_VIEW"
              },
              {
                "value": "VIEW_CONTENT",
                "displayValue": "VIEW_CONTENT"
              },
              {
                "value": "ADD_CART",
                "displayValue": "ADD_CART"
              },
              {
                "value": "START_CHECKOUT",
                "displayValue": "START_CHECKOUT"
              },
              {
                "value": "ADD_BILLING",
                "displayValue": "ADD_BILLING"
              },
              {
                "value": "LOGIN",
                "displayValue": "LOGIN"
              },
              {
                "value": "SIGN_UP",
                "displayValue": "SIGN_UP"
              },
              {
                "value": "SEARCH",
                "displayValue": "SEARCH"
              },
              {
                "value": "ADD_TO_WISHLIST",
                "displayValue": "ADD_TO_WISHLIST"
              },
              {
                "value": "SUBSCRIBE",
                "displayValue": "SUBSCRIBE"
              },
              {
                "value": "SAVE",
                "displayValue": "SAVE"
              },
              {
                "value": "AD_CLICK",
                "displayValue": "AD_CLICK"
              },
              {
                "value": "AD_VIEW",
                "displayValue": "AD_VIEW"
              },
              {
                "value": "COMPLETE_TUTORIAL",
                "displayValue": "COMPLETE_TUTORIAL"
              },
              {
                "value": "INVITE",
                "displayValue": "INVITE"
              },
              {
                "value": "SHARE",
                "displayValue": "SHARE"
              },
              {
                "value": "RESERVE",
                "displayValue": "RESERVE"
              },
              {
                "value": "ACHIEVEMENT_UNLOCKED",
                "displayValue": "ACHIEVEMENT_UNLOCKED"
              },
              {
                "value": "SPENT_CREDITS",
                "displayValue": "SPENT_CREDITS"
              },
              {
                "value": "RATE",
                "displayValue": "RATE"
              },
              {
                "value": "START_TRIAL",
                "displayValue": "START_TRIAL"
              },
              {
                "value": "APP_INSTALL",
                "displayValue": "APP_INSTALL"
              },
              {
                "value": "APP_OPEN",
                "displayValue": "APP_OPEN"
              },
              {
                "value": "CUSTOM_EVENT_1",
                "displayValue": "CUSTOM_EVENT_1"
              },
              {
                "value": "CUSTOM_EVENT_2",
                "displayValue": "CUSTOM_EVENT_2"
              },
              {
                "value": "CUSTOM_EVENT_3",
                "displayValue": "CUSTOM_EVENT_3"
              },
              {
                "value": "CUSTOM_EVENT_4",
                "displayValue": "CUSTOM_EVENT_4"
              },
              {
                "value": "CUSTOM_EVENT_5",
                "displayValue": "CUSTOM_EVENT_5"
              }
            ],
            "simpleValueType": true,
            "defaultValue": "PURCHASE",
            "displayName": "Event Name",
            "valueValidators": [
              {
                "type": "NON_EMPTY"
              }
            ],
            "alwaysInSummary": true
          }
        ]
      },
      {
        "value": "inherit",
        "subParams": [],
        "displayValue": "Inherit from client"
      },
      {
        "value": "custom",
        "subParams": [
          {
            "type": "TEXT",
            "name": "eventNameCustom",
            "displayName": "",
            "simpleValueType": true
          }
        ],
        "displayValue": "Custom"
      }
    ],
    "simpleValueType": true,
    "defaultValue": "standard"
  },
  {
    "type": "TEXT",
    "name": "pixelId",
    "displayName": "Pixel ID",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ],
    "help": "Set to a valid Pixel ID. You can only add a single Pixel ID per tag."
  },
  {
    "type": "TEXT",
    "name": "refreshToken",
    "displayName": "API Refresh Token",
    "simpleValueType": true,
    "help": "More info on how to get Authentication credentials \u003ca target\u003d\"_blank\" href\u003d\"https://stape.io/blog/snapchat-conversion-api-using-server-google-tag-manager\"\u003ecan be found by this link\u003c/a\u003e.",
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "clientId",
    "displayName": "Client ID",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "clientSecret",
    "displayName": "Client Secret",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "displayName": "Event Data",
    "name": "defaultEventDataListGroup",
    "groupStyle": "ZIPPY_CLOSED",
    "type": "GROUP",
    "subParams": [
      {
        "type": "TEXT",
        "name": "eventId",
        "displayName": "Event ID",
        "simpleValueType": true
      },
      {
        "type": "TEXT",
        "name": "eventTag",
        "displayName": "Event Tag",
        "simpleValueType": true,
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ],
        "defaultValue": "gtm"
      },
      {
        "type": "SELECT",
        "name": "eventConversionType",
        "displayName": "Event Conversion Type",
        "macrosInSelect": false,
        "selectItems": [
          {
            "value": "WEB",
            "displayValue": "WEB"
          },
          {
            "value": "OFFLINE",
            "displayValue": "OFFLINE"
          },
          {
            "value": "MOBILE_APP",
            "displayValue": "MOBILE_APP"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "WEB",
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ]
      }
    ]
  },
  {
    "displayName": "User Data",
    "name": "userDataListGroup",
    "groupStyle": "ZIPPY_CLOSED",
    "type": "GROUP",
    "subParams": [
      {
        "type": "LABEL",
        "name": "userDataLabel",
        "displayName": "All parameters in this section will be automatically hashed if they are not hashed."
      },
      {
        "name": "userDataList",
        "simpleTableColumns": [
          {
            "valueValidators": [
              {
                "type": "NON_EMPTY"
              }
            ],
            "defaultValue": "hashed_email",
            "displayName": "Property Name",
            "name": "name",
            "isUnique": true,
            "type": "SELECT",
            "selectItems": [
              {
                "value": "hashed_email",
                "displayValue": "Email"
              },
              {
                "value": "hashed_phone_number",
                "displayValue": "Phone Number"
              },
              {
                "value": "hashed_ip_address",
                "displayValue": "IP Address"
              },
              {
                "value": "hashed_mobile_ad_id",
                "displayValue": "MAID (IDFA or AAID)"
              },
              {
                "value": "hashed_idfv",
                "displayValue": "IDFV"
              }
            ]
          },
          {
            "defaultValue": "",
            "displayName": "Property Value",
            "name": "value",
            "type": "TEXT"
          }
        ],
        "type": "SIMPLE_TABLE",
        "newRowButtonText": "Add property"
      }
    ]
  },
  {
    "displayName": "Custom Data",
    "name": "customDataListGroup",
    "groupStyle": "ZIPPY_CLOSED",
    "type": "GROUP",
    "subParams": [
      {
        "type": "LABEL",
        "name": "сustomDataLabel",
        "displayName": "See \u003ca href\u003d\"https://marketingapi.snapchat.com/docs/conversion.html#conversion-parameters\" target\u003d\"_blank\"\u003ethis documentation\u003c/a\u003e for more details on what data parameters you can add to the call."
      },
      {
        "name": "customDataList",
        "simpleTableColumns": [
          {
            "valueValidators": [
              {
                "type": "NON_EMPTY"
              }
            ],
            "defaultValue": "",
            "displayName": "Property Name",
            "name": "name",
            "isUnique": true,
            "type": "TEXT"
          },
          {
            "defaultValue": "",
            "displayName": "Property Value",
            "name": "value",
            "type": "TEXT"
          }
        ],
        "type": "SIMPLE_TABLE",
        "newRowButtonText": "Add property"
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "firebaseGroup",
    "groupStyle": "ZIPPY_CLOSED",
    "subParams": [
      {
        "type": "TEXT",
        "name": "firebaseProjectId",
        "displayName": "Firebase Project ID",
        "simpleValueType": true
      },
      {
        "type": "TEXT",
        "name": "firebasePath",
        "displayName": "Firebase Path",
        "simpleValueType": true,
        "help": "The tag uses Firebase to store the OAuth access token. You can choose any key for a document that will store the Snapchat OAuth access token.",
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ],
        "defaultValue": "stape/snapchat-auth"
      }
    ],
    "displayName": "Firebase Settings"
  },
  {
    "displayName": "Logs Settings",
    "name": "logsGroup",
    "groupStyle": "ZIPPY_CLOSED",
    "type": "GROUP",
    "subParams": [
      {
        "type": "RADIO",
        "name": "logType",
        "radioItems": [
          {
            "value": "no",
            "displayValue": "Do not log"
          },
          {
            "value": "debug",
            "displayValue": "Log to console during debug and preview"
          },
          {
            "value": "always",
            "displayValue": "Always log to console"
          }
        ],
        "simpleValueType": true,
        "defaultValue": "debug"
      }
    ]
  }
]


___SANDBOXED_JS_FOR_SERVER___

const getAllEventData = require('getAllEventData');
const JSON = require('JSON');
const sendHttpRequest = require('sendHttpRequest');
const getTimestampMillis = require('getTimestampMillis');
const setCookie = require('setCookie');
const getCookieValues = require('getCookieValues');
const getContainerVersion = require('getContainerVersion');
const logToConsole = require('logToConsole');
const sha256Sync = require('sha256Sync');
const makeString = require('makeString');
const getRequestHeader = require('getRequestHeader');
const getType = require('getType');
const encodeUriComponent = require('encodeUriComponent');
const Math = require('Math');
const Firestore = require('Firestore');

const containerVersion = getContainerVersion();
const isDebug = containerVersion.debugMode;
const isLoggingEnabled = determinateIsLoggingEnabled();
const traceId = getRequestHeader('trace-id');

const eventData = getAllEventData();

let scid = getCookieValues('_scid')[0];
if (!scid) scid = eventData._scid;

let postBody = mapEvent(eventData, data);

let firebaseOptions = {};
if (data.firebaseProjectId) firebaseOptions.projectId = data.firebaseProjectId;

Firestore.read(data.firebasePath, firebaseOptions)
    .then((result) => {
        return sendTrackRequest(result.data.access_token, result.data.refresh_token);
    }, () => updateAccessToken(data.refreshToken));

function sendTrackRequest(accessToken, refreshToken) {
    const postUrl = 'https://tr.snapchat.com/v2/conversion';

    if (isLoggingEnabled) {
        logToConsole(JSON.stringify({
            'Name': 'Snapchat',
            'Type': 'Request',
            'TraceId': traceId,
            'EventName': postBody.event_type,
            'RequestMethod': 'POST',
            'RequestUrl': postUrl,
            'RequestBody': postBody,
        }));
    }

    sendHttpRequest(postUrl, (statusCode, headers, body) => {
        if (isLoggingEnabled) {
            logToConsole(JSON.stringify({
                'Name': 'Snapchat',
                'Type': 'Response',
                'TraceId': traceId,
                'EventName': postBody.event_type,
                'ResponseStatusCode': statusCode,
                'ResponseHeaders': headers,
                'ResponseBody': body,
            }));
        }

        if (statusCode >= 200 && statusCode < 400) {
            if (scid) {
                setCookie('_scid', scid, {
                    domain: 'auto',
                    path: '/',
                    samesite: 'Lax',
                    secure: true,
                    'max-age': 31536000, // 1 year
                    httpOnly: false
                });
            }

            data.gtmOnSuccess();
        } else if (statusCode === 401) {
            updateAccessToken(refreshToken);
        } else {
            data.gtmOnFailure();
        }
    }, {headers: {'Content-Type': 'application/json', 'Authorization': 'Bearer ' + accessToken}, method: 'POST'}, JSON.stringify(postBody));
}

function updateAccessToken(refreshToken) {
    const authUrl = 'https://accounts.snapchat.com/login/oauth2/access_token';
    const authBody = 'refresh_token='+enc(refreshToken || data.refreshToken)+'&client_id='+enc(data.clientId)+'&client_secret='+enc(data.clientSecret)+'&grant_type=refresh_token';

    if (isLoggingEnabled) {
        logToConsole(JSON.stringify({
            'Name': 'Snapchat',
            'Type': 'Request',
            'TraceId': traceId,
            'EventName': 'Auth',
            'RequestMethod': 'POST',
            'RequestUrl': authUrl,
        }));
    }

    sendHttpRequest(authUrl, (statusCode, headers, body) => {
        if (isLoggingEnabled) {
            logToConsole(JSON.stringify({
                'Name': 'Snapchat',
                'Type': 'Response',
                'TraceId': traceId,
                'EventName': 'Auth',
                'ResponseStatusCode': statusCode,
                'ResponseHeaders': headers,
            }));
        }

        if (statusCode >= 200 && statusCode < 400) {
            let bodyParsed = JSON.parse(body);

            Firestore.write(data.firebasePath, bodyParsed, firebaseOptions)
                .then((id) => {
                    sendTrackRequest(bodyParsed.access_token, bodyParsed.refresh_token);
                }, data.gtmOnFailure);
        } else {
            data.gtmOnFailure();
        }
    }, {headers: {'Content-Type': 'application/x-www-form-urlencoded'}, method: 'POST'}, authBody);
}

function getEventName(eventData, data) {
    if (data.eventType === 'inherit') {
        let eventName = eventData.event_name;

        let gaToEventName = {
            'page_view': 'PAGE_VIEW',
            "gtm.dom": "PAGE_VIEW",
            'add_payment_info': 'ADD_BILLING',
            'add_to_cart': 'ADD_CART',
            'add_to_wishlist': 'ADD_TO_WISHLIST',
            'sign_up': 'SIGN_UP',
            'begin_checkout': 'START_CHECKOUT',
            'generate_lead': 'CUSTOM_EVENT_1',
            'purchase': 'PURCHASE',
            'search': 'SEARCH',
            'view_item': 'VIEW_CONTENT',

            'contact': 'CUSTOM_EVENT_2',
            'customize_product': 'CUSTOM_EVENT_3',
            'donate': 'SPENT_CREDITS',
            'find_location': 'SEARCH',
            'schedule': 'CUSTOM_EVENT_4',
            'start_trial': 'START_TRIAL',
            'submit_application': 'SUBSCRIBE',
            'subscribe': 'SUBSCRIBE',

            'gtm4wp.addProductToCartEEC': 'ADD_CART',
            'gtm4wp.productClickEEC': 'VIEW_CONTENT',
            'gtm4wp.checkoutOptionEEC': 'START_CHECKOUT',
            'gtm4wp.checkoutStepEEC': 'ADD_BILLING',
            'gtm4wp.orderCompletedEEC': 'PURCHASE'
        };

        if (!gaToEventName[eventName]) {
            return eventName;
        }

        return gaToEventName[eventName];
    }

    return data.eventType === 'standard' ? data.eventNameStandard : data.eventNameCustom;
}

function mapEvent(eventData, data) {
    let mappedData = {
        "version": '2.0',
        "event_type": getEventName(eventData, data),
        "event_tag": data.eventTag,
        "event_conversion_type": data.eventConversionType,
        "pixel_id": data.pixelId,
        "timestamp": Math.round(getTimestampMillis() / 1000),
        "page_url": eventData.page_location || getRequestHeader('referer'),
        "user_agent": eventData.user_agent,
        "hashed_ip_address": eventData.ip_override
    };

    if (scid) mappedData.uuid_c1 = scid;
    if (data.eventId) mappedData.client_dedup_id = data.eventId;

    mappedData = addUserData(eventData, mappedData);
    mappedData = addPropertiesData(eventData, mappedData);
    mappedData = hashDataIfNeeded(mappedData);

    return mappedData;
}

function isHashed(value) {
    if (!value) {
        return false;
    }

    return makeString(value).match('^[A-Fa-f0-9]{64}$') !== null;
}

function hashData(value) {
    if (!value) {
        return value;
    }

    const type = getType(value);

    if (type === 'undefined' || value === 'undefined') {
        return undefined;
    }

    if (type === 'object') {
        return value.map(val => {
            return hashData(val);
        });
    }

    if (isHashed(value)) {
        return value;
    }

    return sha256Sync(makeString(value).trim().toLowerCase(), {outputEncoding: 'hex'});
}

function hashDataIfNeeded(mappedData) {
    for (let key in mappedData) {
        if (key === 'hashed_email' || key === 'hashed_phone_number' || key === 'hashed_ip_address' || key === 'hashed_mobile_ad_id' || key === 'hashed_idfv') {
            mappedData[key] = hashData(mappedData[key]);
        }
    }

    return mappedData;
}

function addPropertiesData(eventData, mappedData) {
    if (eventData['x-ga-mp1-ev']) mappedData.price = eventData['x-ga-mp1-ev'];
    else if (eventData['x-ga-mp1-tr']) mappedData.price = eventData['x-ga-mp1-tr'];
    else if (eventData.value) mappedData.price = eventData.value;

    if (eventData.item_category) mappedData.item_category = eventData.item_category;
    else if (eventData.category) mappedData.item_category = eventData.category;

    if (eventData.transaction_id) mappedData.transaction_id = eventData.transaction_id;
    if (eventData.currency) mappedData.currency = eventData.currency;
    if (eventData.description) mappedData.description = eventData.description;
    if (eventData.query) mappedData.search_string = eventData.query;


    if (eventData.items && eventData.items[0]) {
        let items = [];

        eventData.items.forEach((d,i) => {
            let itemId = {};

            if (d.item_id) itemId = d.item_id;
            else if (d.id) itemId = d.id;

            items.push(itemId);
        });

        mappedData.item_ids = items.join(';');
    }

    if (data.customDataList) {
        data.customDataList.forEach(d => {
            mappedData[d.name] = d.value;
        });
    }

    return mappedData;
}

function addUserData(eventData, mappedData) {
    if (eventData.email) mappedData.hashed_email = eventData.email;
    else if (eventData.user_data && eventData.user_data.email_address) mappedData.hashed_email = eventData.user_data.email_address;

    if (eventData.phone) mappedData.hashed_phone_number = eventData.phone;
    else if (eventData.user_data && eventData.user_data.phone_number) mappedData.hashed_phone_number = eventData.user_data.phone_number;

    if (data.userDataList) {
        data.userDataList.forEach(d => {
            mappedData[d.name] = d.value;
        });
    }

    return mappedData;
}

function determinateIsLoggingEnabled() {
    if (!data.logType) {
        return isDebug;
    }

    if (data.logType === 'no') {
        return false;
    }

    if (data.logType === 'debug') {
        return isDebug;
    }

    return data.logType === 'always';
}

function enc(data) {
    data = data || '';
    return encodeUriComponent(data);
}


___SERVER_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "read_event_data",
        "versionId": "1"
      },
      "param": [
        {
          "key": "eventDataAccess",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "set_cookies",
        "versionId": "1"
      },
      "param": [
        {
          "key": "allowedCookies",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "name"
                  },
                  {
                    "type": 1,
                    "string": "domain"
                  },
                  {
                    "type": 1,
                    "string": "path"
                  },
                  {
                    "type": 1,
                    "string": "secure"
                  },
                  {
                    "type": 1,
                    "string": "session"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "_scid"
                  },
                  {
                    "type": 1,
                    "string": "*"
                  },
                  {
                    "type": 1,
                    "string": "*"
                  },
                  {
                    "type": 1,
                    "string": "any"
                  },
                  {
                    "type": 1,
                    "string": "any"
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "send_http",
        "versionId": "1"
      },
      "param": [
        {
          "key": "allowedUrls",
          "value": {
            "type": 1,
            "string": "specific"
          }
        },
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://accounts.snapchat.com/"
              },
              {
                "type": 1,
                "string": "https://tr.snapchat.com/"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "get_cookies",
        "versionId": "1"
      },
      "param": [
        {
          "key": "cookieAccess",
          "value": {
            "type": 1,
            "string": "specific"
          }
        },
        {
          "key": "cookieNames",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "_scid"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "all"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "read_container_data",
        "versionId": "1"
      },
      "param": []
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "read_request",
        "versionId": "1"
      },
      "param": [
        {
          "key": "headerWhitelist",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "headerName"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "trace-id"
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "headerName"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "referer"
                  }
                ]
              }
            ]
          }
        },
        {
          "key": "headersAllowed",
          "value": {
            "type": 8,
            "boolean": true
          }
        },
        {
          "key": "requestAccess",
          "value": {
            "type": 1,
            "string": "specific"
          }
        },
        {
          "key": "headerAccess",
          "value": {
            "type": 1,
            "string": "specific"
          }
        },
        {
          "key": "queryParameterAccess",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_firestore",
        "versionId": "1"
      },
      "param": [
        {
          "key": "allowedOptions",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "projectId"
                  },
                  {
                    "type": 1,
                    "string": "path"
                  },
                  {
                    "type": 1,
                    "string": "operation"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "*"
                  },
                  {
                    "type": 1,
                    "string": "*"
                  },
                  {
                    "type": 1,
                    "string": "read_write"
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []
setup: ''


___NOTES___

Created on 03/03/2022, 19:13:03


